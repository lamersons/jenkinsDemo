build_root = "/home/kali/Repos/jenkinsDemo/"
vagrant_root = build_root + "/coreos-vagrant/"
exec_br_remote_cmd = 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1';
exec_vr_remote_cmd = 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 cd ' + vagrant_root + '; ';
// exec_br_remote_cmd = 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 cd ' + build_root + '; ';
// exec_vr_remote_cmd = 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 cd ' + vagrant_root + '; ';

pipeline {
  agent any
  stages {
    stage('rollout_init_infra') {
      steps {
        sh 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 "cd /home/kali/Repos/jenkinsDemo/; rm -rf coreos-vagrant/"'
        sh 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 "cd /home/kali/Repos/jenkinsDemo/; git clone https://github.com/coreos/coreos-vagrant.git"'
        sh 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 "cd /home/kali/Repos/jenkinsDemo/core-vagrant/; cp user-data.sample user-data; cp config.rb.sample config.rb"'
        sh 'sshpass -p unuzan55 ssh -oStrictHostKeyChecking=no lamersons@172.17.0.1 "cd /home/kali/Repos/jenkinsDemo/core-vagrant/; cat user-data"'
      }
    }
  }
}
